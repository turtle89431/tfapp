<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>DeskGap API Demo</title>
		<link rel="stylesheet" href="app.css" />
		<script type="text/javascript">
			var asyncNode = window.deskgap.asyncNode;
			var messageUI = window.deskgap.messageUI;
			messageUI.on('hello-from-node', (e, mess) => {
				document.querySelector('#test').innerHTML = `<ul>${mess.split(',').map(x => `<li>${x}</li>`)}</ul>`;
            });
            messageUI.on('fromtf', (e, mess) => {
				document.querySelector('#tf').innerHTML = `${mess}`;
			});
		</script>
	</head>
	<body> <p id="tf">loading</p>
        this is a <span id="test">no</span>
       <button onclick="btnpush()">push me</button>
		<script>
            messageUI.send('hello-to-node', 'yes');
            messageUI.send("tf",[2,1,1])
            function btnpush(){
                messageUI.send("tf",[2,0,2])
            }
		</script>
	</body>
</html>
